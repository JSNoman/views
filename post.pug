extends layout 


block content 
    style.
        .new {width: 92px;background-color: #F72A57;border: 2px solid #F72A57;color: white;font-weight: 500;}
        .new:hover {background-color: black;color: white;transition: .2s ease-in-out;border-left-color: #00FFED;border-right-color: #FC004D;border-bottom-color: black;border-top-color: black;border-width: 2px;}
        .submitt {width: 130px;height: 40px; background-color: #58BF14;border: none;color: white;font-weight: 500;}
        .submitt:hover {border: .5px solid green;color: black;transition: .2s ease-in-out;background: none;}
        .close {width: 130px;height: 40px;border: .5px solid #F72A57;color: black;font-weight: 500;}
        .close:hover {background-color: red;transition: .2s ease-in-out;color: white;border-width: 2px;}
    .container-fluid(style='margin-top: 120px;')
        .row.d-flex.justify-content-center.align-items-center
            .col-md-6
                if errorMessage
                    .alert.alert-warning.alert-dismissible.fade.show.mx-auto.rounded-0(role='alert' style=' border-left: 5px solid red; ')
                        span= errorMessage
                        button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')

                if message
                    .alert.alert-info.alert-dismissible.fade.show.mx-auto.rounded-0(role='alert' style=' border-left: 5px solid #0DCAF0; ')
                        span= message
                        button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')

                if deleteMessage
                    .alert.alert-danger.alert-dismissible.fade.show.mx-auto.rounded-0(role='alert' style=' border-left: 5px solid red; ')
                        span= deleteMessage
                        button.btn-close(type='button', data-bs-dismiss='alert', aria-label='Close')

    .container-fluid
        .card.rounded-0.shadow-0
            .card-header.position-relative Active Posts
                |
                p.position-absolute.top-50.start-50.translate-middle My Post 
                button.float-end.new(type='button' data-bs-toggle='modal' data-bs-target='#exampleModal' data-bs-whatever='@getbootstrap') New
                #exampleModal.modal.fade(tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true')
                    .modal-dialog
                        .modal-content
                            .modal-header
                                h1#exampleModalLabel.modal-title.fs-5 New Post
                                button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Close')
                            .modal-body
                                form(action="/user/post" method="post" enctype="multipart/form-data")

                                    .row 
                                        .col-lg-12
                                            .form-outline.mb-3(data-mdb-input-init='')
                                                input#formControlLg.form-control.form-control-lg(type='text' name='title')
                                                label.form-label(for='') Title
                                        .col-lg-12
                                            .form-outline.mb-3(data-mdb-input-init='')
                                                input#formControlLg.form-control.form-control-lg(type='file' name='image')
                                        .col-lg-12
                                            .form-outline.mb-3(data-mdb-input-init='')
                                                textarea#textAreaExample.form-control(rows='4' name='message')
                                                label.form-label(for='') Message
                                        .modal-footer
                                            button.close(type='button' data-bs-dismiss='modal') Close
                                            button.submitt(type="submit") 
                                                i.fa-solid.fa-arrow-up 
                                                |  Post  
            .card-body
                .table-responsive.p-1
                    table.table.table-hover.table-sm(style='width:100%')
                        thead
                            tr.border
                                th.col-2(scope='col') Number
                                th.col-2(scope='col') Image
                                th.col-3(scope='col') Title
                                th(scope='col') Message
                                th(scope='col' style='width: 55px;').text-center Actions
                            tbody
                                if count.length         
                                    each post in count
                                        tr
                                            td=post.id
                                            td
                                                img.img-fluid(src=`/uploads/${post.image}`, alt="image" style='width: 60px; height: 40px; border-radius: 2px;')
                                            td(scope='row') #{post.title}
                                            td #{post.message}
                                            td
                                                .d-grid.gap-2.d-md-flex.justify-content-md-end
                                                    a.btn.btn-outline-success.btn-sm(href=`/users/view/${post.id}`)
                                                        i.fa-solid.fa-eye
                                                        
                                                    a.btn.btn-outline-primary.btn-sm(href=`/user/PostEdit/${post.id}`)
                                                        i.fa-solid.fa-pen-to-square

                                                    a.btn.btn-outline-danger.btn-sm(href=`/user/post/delete/${post.id}`) 
                                                        i.fa-solid.fa-trash
                                else 
                                    h6 No post found Avable!
